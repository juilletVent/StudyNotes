## Requirejs 模块依赖

### 简单对象定义

```js
define({
  color: "black",
  size: 16,
});
```

### 函数定义

1. 函数的返回值将作为模块导出值
2. 如果模块存在依赖，则依赖的模块将按照依赖定义的顺序传入模块定义函数的实参列表
3. 在依赖加载完毕前，模块定义函数不会执行

```js
//my/shirt.js now does setup work
//before returning its module definition.
define(function () {
  //Do setup work here
  //
  return {
    color: "black",
    size: "unisize",
  };
});
```

存在依赖的函数定义：

```js
// 所有的依赖，将按照依赖定义的顺序传入模块定义函数形参列表
define(["./cart", "./inventory"], function (cart, inventory) {
  // return an object to define the "my/shirt" module.
  return {
    color: "blue",
    size: "large",
    addToCart: function () {
      inventory.decrement(this);
      cart.add(this);
    },
  };
});
```

模块的返回值类型并没有强制为一定是个 object，任何函数的返回值都是允许的。此处是一个返回了函数的模块定义：

```js
define(["my/cart", "my/inventory"], function (cart, inventory) {
  return function (title) {
    return title
      ? (window.title = title)
      : inventory.storeName + " " + cart.name;
  };
});
```

### 包装 CommonJS 模块

```js
define(function (require, exports, module) {
  var a = require("a"),
    b = require("b");

  //Return the module value
  return function () {};
});
```

### 定义命名模块

```js
// 第一个参数为模块添加了模块名称
define("foo/title", ["my/cart", "my/inventory"], function (cart, inventory) {
  //这里定义 foo/title 对象.
  return {
    // somthing config
  };
});
```
